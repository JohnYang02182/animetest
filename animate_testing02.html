<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>動畫特效測試</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0,user-scalable=no">
    <link rel="stylesheet" href="css/animatetest02.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://i2.bahamut.com.tw/js/plugins/lazysizes-3.0.0.min.js" async></script>
    <script src="https://i2.bahamut.com.tw/js/wall_common.js"></script>
    <script>
      $(document).ready(function() {

        //最開始載入頁面時出現的動態 開始
        function firstCardIn() {
          let new_anime = 8;
          let a = 0.1 + (new_anime*0.1);
          let newdate;
          for(let i=1;i<=new_anime;i++){
            $(".newanime-date-area:nth-of-type("+i+")").children('.anime-block').addClass('lightSpeedIn').css("animation-duration",a+"s");
            a = a - (0.02*i);
          }
        }
        //最開始載入頁面時出現的動態 結束

        firstCardIn();
        
        //hover天的區塊時會有動態效果 開始
        function hoverIn(day) {
          $(".new-count-"+day).hover(function() {
            /* mouse in start*/
            let $this = $(this),
                c_count = day -1;
            newdate = $(".new-count-"+day+" .date-block span").html();
            judgeday(day);
            colorChangeLine(day,true,$this);
            // colorChangeDotted(day, true);
            colorChangeCircle(day, true, c_count);
            /* mouse in end*/
          },function(){
            /* mouse out start */
            let $this = $(this);
            newdate = $(".new-count-"+day+" .date-block span").html();
            colorChangeLine(day,false,$this);
            // colorChangeDotted(day, false);
            colorChangeCircle(day, false);
            
            /* mouse out end */
          }); 
        }

        for(var i=1;i<=4;i++){
          hoverIn(i);
        }

        //hover天的區塊時會有動態效果 結束

        // 判斷是否是最新的一天 開始
        function judgeday(a){
          if(a != 1){
            $(".new-count-1 .date-block .date-block-border").css("background-color","#c4c4c4");
            $(".new-count-1 .date-block >span").css("background-color","#969696");
          }
          else {
            $(".new-count-1 .date-block .date-block-border").css("background-color","");
            $(".new-count-1 .date-block >span").css("background-color","");
          }
        }
        // 結束

        //控制線條變顏色 開始

        function colorChangeLine(day, lineColor, thisElements){
          let newdate = $(".new-count-"+day+" .date-block span").html();
          if(lineColor === true) {
            thisElements.children(".date-block").find('span').remove();
            $(".new-count-"+day).children(".date-block").css("background-color","#f0f0f0");
            $(".new-count-"+day).children(".date-block").find("span").css("background-color","#FB9C00");
            $(".new-count-"+day).children(".date-block").find(".date-block-border").addClass('border-changecolor');
            thisElements.children(".date-block").prepend("<span class='date-info'>"+newdate+"</span>");
            thisElements.children(".date-block").children(".date-info").addClass("fadeIn");
          }
          else if(lineColor === false) {
            thisElements.children(".date-block").find('span').remove();
            $(".new-count-1 .date-block .date-block-border").css("background-color","");
            $(".new-count-1 .date-block >span").css("background-color","");
            $(".new-count-"+day).children(".date-block").css("background-color","");
            $(".new-count-"+day).children(".date-block").find("span").css("background-color","");
            $(".new-count-"+day).last().children(".date-block").append("<span class=''>"+newdate+"</span>");
            $(".date-block-border").removeClass('border-changecolor');
          }
        }   

        //控制線條變顏色 結束

        //控制虛線變色 開始
        function colorChangeDotted(day, dottedColor) {
          if(dottedColor === true) {
            $(".new-count-"+day).children(".date-block").find("g").css("stroke","#267284").html('<path stroke-dasharray="0,0" d="M0 10 l280 0" />');
            $(".new-count-"+day).children(".anime-block").find("span").css("background-color","#267284");
          }
          else if(dottedColor === false) {
            $(".new-count-"+day).addClass("changeColor").css("background-color","");
            $(".new-count-"+day).children(".date-block").find("g").css("stroke","").html('<path stroke-dasharray="4,3" d="M0 10 l280 0" />');
            $(".new-count-"+day).children(".anime-block").find("span").css("background-color","");
          }
        }
        //控制虛線變色 結束

        //控制圓圈(起點＆終點)變色 開始
        function colorChangeCircle(day, circleColor, c_count) {
          if(circleColor === true) {
            $(".new-count-1").children(".date-block").find("circle").css("stroke","#c4c4c4");
            $(".new-count-"+day).prev().children(".date-block").find("circle").css("stroke","#FB9C00");
            $(".new-count-"+day).children(".date-block").find("circle").css("stroke","#FB9C00");
            $(".new-count-"+c_count).children(".date-block").removeClass('circle-active').addClass('circle');
          }
          else if(circleColor === false) {
            $(".new-count-1").children(".date-block").find("circle").css("stroke","");
            $(".new-count-"+day).prev().children(".date-block").find("circle").css("stroke","");
            $(".new-count-"+day).children(".date-block").find("circle").css("stroke","");
          }
        }
        //控制圓圈(起點＆終點)變色 結束

      });
  </script>
  </head>
  <body>
    <div class="newanime-container">
      <div class="newanime-wrap"><!--置中-->
        <div class="newanime-block"><!--display flex-->
          <!--單則動畫-->
          <div class="newanime-date-area new-count-1">
            <div class="date-block">
              <div class="date-block-border"></div><!--border-top實線 border-bottom虛線-->
              <svg height="20" width="216" preserveAspectRatio="xMidYMid meet" class="dotted-line">
                <g fill="none" stroke="#82B1CB" stroke-width="2">
                  <path stroke-dasharray="4,3" d="M0 10 l280 0" />
                </g>
              </svg>
            </div>
            <div class="anime-block">
              <span>23:00</span>
              <div class="anime-card-block">
                <div class="anime-pic-block">
                  <div class="line-gradient"></div>
                  <div class="anime-blocker">
                    <img src="https://p2.bahamut.com.tw/B/2KU/69/a161613d7194177ba6c2d712f0185y15.JPG" alt="anime_pic">
                  </div>
                  <div class="anime-detail-info-block">
                    <div class="anime-episode">
                      <img src="img/pic-tv.svg" alt="pic-tv">
                      <p>第11集</p>
                    </div>
                    <span>new</span>
                  </div>
                  <a href="#" class="btn-favorite-block">
                    <img class="btn-favorite" src="img/btn-love.svg" alt="btn-favorite">
                  </a>
                </div>  
                <div class="anime-name-block">
                  <div class="anime-name">
                    <p>夢幻之星 Online 2 Episode Oracle</p>
                  </div>
                  <div class="anime-watch-number">
                    <img src="img/pic-eye.svg" alt="pic">
                    <p>36.6萬</p>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <!--單則動畫結束-->

          <!--單則動畫-->
          <div class="newanime-date-area new-count-1">
            <div class="date-block">
              <div class="date-block-border"></div><!--border-top實線 border-bottom虛線-->
              <svg height="20" width="216" preserveAspectRatio="xMidYMid meet" class="dotted-line">
                <g fill="none" stroke="#82B1CB" stroke-width="2">
                  <path stroke-dasharray="4,3" d="M0 10 l235 0" />
                </g>
              </svg>
            </div>
            <div class="anime-block">
              <span>22:30</span>
              <div class="anime-card-block">
                <img src="img/anime-03.png" alt="img">
              </div>
            </div>
          </div>
          <!--單則動畫結束-->

          <!--單則動畫-->
          <div class="newanime-date-area new-count-1">
            <div class="date-block">
              <div class="date-block-border"></div><!--border-top實線 border-bottom虛線-->
              <svg height="20" width="216" preserveAspectRatio="xMidYMid meet" class="dotted-line">
                <g fill="none" stroke="#82B1CB" stroke-width="2">
                  <path stroke-dasharray="4,3" d="M0 10 l235 0" />
                </g>
              </svg>
            </div>
            <div class="anime-block">
              <span>22:00</span>
              <div class="anime-card-block">
                <img src="img/anime-04.png" alt="img">
              </div>
            </div>
          </div>
          <!--單則動畫結束-->
        
          <!--單則動畫-->
          <div class="newanime-date-area new-count-1">
            <div class="date-block">
              <span>3/22 (日)</span>
              <div class="date-block-border"></div><!--border-top實線 border-bottom虛線-->
              <svg height="19" width="19" class="double-circle circle-active">
                <circle class="circle" cx="10" cy="10" r="6" stroke-width="3" />
                <circle class="circle" cx="10" cy="10" r="2" stroke-width="3" />
              </svg>
              <svg height="20" width="216" preserveAspectRatio="xMidYMid meet" class="dotted-line">
                <g fill="none" stroke="#82B1CB" stroke-width="2">
                  <path stroke-dasharray="4,3" d="M0 10 l280 0" />
                </g>
              </svg>
            </div>
            <div class="anime-block">
              <span>19:30</span>
              <div class="anime-card-block">
                <img src="img/anime-05.png" alt="img">
              </div>
            </div>
          </div>
          <!--單則動畫結束-->
       
          <!--單則動畫-->
          <div class="newanime-date-area new-count-2">
            <div class="date-block">
              <div class="date-block-border"></div><!--border-top實線 border-bottom虛線-->
              <svg height="20" width="216" preserveAspectRatio="xMidYMid meet" class="dotted-line">
                <g fill="none" stroke="#82B1CB" stroke-width="2">
                  <path stroke-dasharray="4,3" d="M0 10 l280 0" />
                </g>
              </svg>
            </div>
            <div class="anime-block">
              <span>23:50</span>
              <div class="anime-card-block">
                <img src="img/anime-06.png" alt="img">
              </div>
            </div>
          </div>
          <!--單則動畫結束-->

          <!--單則動畫-->
          <div class="newanime-date-area new-count-2">
            <div class="date-block">
              <div class="date-block-border"></div><!--border-top實線 border-bottom虛線-->
              <svg height="20" width="216" preserveAspectRatio="xMidYMid meet" class="dotted-line">
                <g fill="none" stroke="#82B1CB" stroke-width="2">
                  <path stroke-dasharray="4,3" d="M0 10 l280 0" />
                </g>
              </svg>
            </div>
            <div class="anime-block">
              <span>23:00</span>
              <div class="anime-card-block">
                <img src="img/anime-03.png" alt="img">
              </div>
            </div>
          </div>
          <!--單則動畫結束-->

          <!--單則動畫-->
          <div class="newanime-date-area new-count-2">
            <div class="date-block">
              <div class="date-block-border"></div><!--border-top實線 border-bottom虛線-->
              <svg height="20" width="216" preserveAspectRatio="xMidYMid meet" class="dotted-line">
                <g fill="none" stroke="#82B1CB" stroke-width="2">
                  <path stroke-dasharray="4,3" d="M0 10 l280 0" />
                </g>
              </svg>
            </div>
            <div class="anime-block">
              <span>22:00</span>
              <div class="anime-card-block">
                <img src="img/anime-04.png" alt="img">
              </div>
            </div>
          </div>
          <!--單則動畫結束-->

          <!--單則動畫-->
          <div class="newanime-date-area new-count-2">
            <div class="date-block">
              <div class="date-block-border"></div><!--border-top實線 border-bottom虛線-->
              <svg height="20" width="216" preserveAspectRatio="xMidYMid meet" class="dotted-line">
                <g fill="none" stroke="#82B1CB" stroke-width="2">
                  <path stroke-dasharray="4,3" d="M0 10 l280 0" />
                </g>
              </svg>
            </div>
            <div class="anime-block">
              <span>21:00</span>
              <div class="anime-card-block">
                <img src="img/anime-05.png" alt="img">
              </div>
            </div>
          </div>
          <!--單則動畫結束-->

          <!--單則動畫-->
          <div class="newanime-date-area new-count-2">
            <div class="date-block">
              <div class="date-block-border"></div><!--border-top實線 border-bottom虛線-->
              <svg height="20" width="216" preserveAspectRatio="xMidYMid meet" class="dotted-line">
                <g fill="none" stroke="#82B1CB" stroke-width="2">
                  <path stroke-dasharray="4,3" d="M0 10 l280 0" />
                </g>
              </svg>
            </div>
            <div class="anime-block">
              <span>21:00</span>
              <div class="anime-card-block">
                <img src="img/anime-06.png" alt="img">
              </div>
            </div>
          </div>
          <!--單則動畫結束-->

          <!--單則動畫-->
          <div class="newanime-date-area new-count-2">
            <div class="date-block">
              <div class="date-block-border"></div><!--border-top實線 border-bottom虛線-->
              <svg height="20" width="216" preserveAspectRatio="xMidYMid meet" class="dotted-line">
                <g fill="none" stroke="#82B1CB" stroke-width="2">
                  <path stroke-dasharray="4,3" d="M0 10 l280 0" />
                </g>
              </svg>
            </div>
            <div class="anime-block">
              <span>21:00</span>
              <div class="anime-card-block">
                <img src="img/anime-03.png" alt="img">
              </div>
            </div>
          </div>
          <!--單則動畫結束-->

          <!--單則動畫-->
          <div class="newanime-date-area new-count-2">
            <div class="date-block">
              <div class="date-block-border"></div><!--border-top實線 border-bottom虛線-->
              <svg height="20" width="216" preserveAspectRatio="xMidYMid meet" class="dotted-line">
                <g fill="none" stroke="#82B1CB" stroke-width="2">
                  <path stroke-dasharray="4,3" d="M0 10 l280 0" />
                </g>
              </svg>
            </div>
            <div class="anime-block">
              <span>21:00</span>
              <div class="anime-card-block">
                <img src="img/anime-04.png" alt="img">
              </div>
            </div>
          </div>
          <!--單則動畫結束-->

          <!--單則動畫-->
          <div class="newanime-date-area new-count-2">
            <div class="date-block">
              <div class="date-block-border"></div><!--border-top實線 border-bottom虛線-->
              <svg height="20" width="216" preserveAspectRatio="xMidYMid meet" class="dotted-line">
                <g fill="none" stroke="#82B1CB" stroke-width="2">
                  <path stroke-dasharray="4,3" d="M0 10 l280 0" />
                </g>
              </svg>
            </div>
            <div class="anime-block">
              <span>21:00</span>
              <div class="anime-card-block">
                <img src="img/anime-05.png" alt="img">
              </div>
            </div>
          </div>
          <!--單則動畫結束-->

          <!--單則動畫-->
          <div class="newanime-date-area new-count-2">
            <div class="date-block">
              <span>3/21 (六)</span>
              <div class="date-block-border"></div><!--border-top實線 border-bottom虛線-->
              <svg height="19" width="19" class="double-circle circle">
                <circle class="circle" cx="10" cy="10" r="6" stroke-width="3" />
                <circle class="circle" cx="10" cy="10" r="2" stroke-width="3" />
              </svg>
              <svg height="20" width="216" preserveAspectRatio="xMidYMid meet" class="dotted-line">
                <g fill="none" stroke="#82B1CB" stroke-width="2">
                  <path stroke-dasharray="4,3" d="M0 10 l280 0" />
                </g>
              </svg>
            </div>
            <div class="anime-block">
              <span>20:00</span>
              <div class="anime-card-block">
                <img src="img/anime-06.png" alt="img">
              </div>
            </div>
          </div>
          <!--單則動畫結束-->

        
          <!--單則動畫-->
          <div class="newanime-date-area new-count-3">
            <div class="date-block">
              <span>3/20 (五)</span>
              <div class="date-block-border"></div><!--border-top實線 border-bottom虛線-->
              <svg height="19" width="19" class="double-circle circle">
                <circle class="circle" cx="10" cy="10" r="6" stroke-width="3" />
                <circle class="circle" cx="10" cy="10" r="2" stroke-width="3" />
              </svg>
              <svg height="20" width="216" preserveAspectRatio="xMidYMid meet" class="dotted-line">
                <g fill="none" stroke="#82B1CB" stroke-width="2">
                  <path stroke-dasharray="4,3" d="M0 10 l280 0" />
                </g>
              </svg>
            </div>
            <div class="anime-block">
              <span>16:00</span>
              <div class="anime-card-block">
                <img src="img/anime-03.png" alt="img">
              </div>
            </div>
          </div>
          <!--單則動畫結束-->
       
          <!--單則動畫-->
          <div class="newanime-date-area new-count-4">
            <div class="date-block">
              <div class="date-block-border"></div><!--border-top實線 border-bottom虛線-->
              <svg height="20" width="216" preserveAspectRatio="xMidYMid meet" class="dotted-line">
                <g fill="none" stroke="#82B1CB" stroke-width="2">
                  <path stroke-dasharray="4,3" d="M0 10 l280 0" />
                </g>
              </svg>
            </div>
            <div class="anime-block">
              <span>22:30</span>
              <div class="anime-card-block">
                <img src="img/anime-04.png" alt="img">
              </div>
            </div>
          </div>
          <!--單則動畫結束-->

          <!--單則動畫-->
          <div class="newanime-date-area new-count-4">
            <div class="date-block">
              <div class="date-block-border"></div><!--border-top實線 border-bottom虛線-->
              <svg height="20" width="216" preserveAspectRatio="xMidYMid meet" class="dotted-line">
                <g fill="none" stroke="#82B1CB" stroke-width="2">
                  <path stroke-dasharray="4,3" d="M0 10 l280 0" />
                </g>
              </svg>
            </div>
            <div class="anime-block">
              <span>22:00</span>
              <div class="anime-card-block">
                <img src="img/anime-05.png" alt="img">
              </div>
            </div>
          </div>
          <!--單則動畫結束-->

          <!--單則動畫-->
          <div class="newanime-date-area new-count-4">
            <div class="date-block">
              <div class="date-block-border"></div><!--border-top實線 border-bottom虛線-->
              <svg height="20" width="216" preserveAspectRatio="xMidYMid meet" class="dotted-line">
                <g fill="none" stroke="#82B1CB" stroke-width="2">
                  <path stroke-dasharray="4,3" d="M0 10 l280 0" />
                </g>
              </svg>
            </div>
            <div class="anime-block">
              <span>21:30</span>
              <div class="anime-card-block">
                <img src="img/anime-06.png" alt="img">
              </div>
            </div>
          </div>
          <!--單則動畫結束-->

          <!--單則動畫-->
          <div class="newanime-date-area new-count-4">
            <div class="date-block">
              <span>3/19 (四)</span>
              <div class="date-block-border"></div><!--border-top實線 border-bottom虛線-->
              <svg height="19" width="19" class="double-circle circle">
                <circle class="circle" cx="10" cy="10" r="6" stroke-width="3" />
                <circle class="circle" cx="10" cy="10" r="2" stroke-width="3" />
              </svg>
              <svg height="20" width="216" preserveAspectRatio="xMidYMid meet" class="dotted-line">
                <g fill="none" stroke="#82B1CB" stroke-width="2">
                  <path stroke-dasharray="4,3" d="M0 10 l280 0" />
                </g>
              </svg>
            </div>
            <div class="anime-block">
              <span>21:00</span>
              <div class="anime-card-block">
                <img src="img/anime-03.png" alt="img">
              </div>
            </div>
          </div>
          <!--單則動畫結束-->
        </div>
      </div>
    </div>
  </body>
</html>